#
# Sway config
#

### mappings
    # layer 1 keys
    set $mod Mod1
    set $mod2 Mod4
    set $ctl Control

    # navigation keys
    set $l h
    set $r l
    set $u k
    set $d j

    # set default applications
    set $term alacritty
    set $ff   firefox


#### basic keybinds
    floating_modifier $mod

    # terminal
    bindsym $mod+Return exec alacritty

    # kill current window
    bindsym $mod+q kill

    # app launcher
    bindsym $mod+d exec ~/.config/rofi/launchers/type-7/launcher.sh

    # lock
    bindsym Mod4+l exec  swaylock -C ~/.config/sway/lock

    # scratchpad
    bindsym $mod+Ctrl+minus move scratchpad
    bindsym $mod+minus scratchpad show

    # reload the configuration file
    bindsym $mod+Shift+c reload

### window config
    # change focus
    bindsym $mod+$d focus down
    bindsym $mod+$u focus up
    bindsym $mod+$r focus right
    bindsym $mod+$l focus left

    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # move focused window
    bindsym $mod+Shift+$d move down
    bindsym $mod+Shift+$u move up
    bindsym $mod+Shift+$r move right
    bindsym $mod+Shift+$l move left

    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right

    # focus the parent container
    bindsym $mod+a focus parent

    # focus the child container
    bindsym $mod+x focus child


### layout
    # split in horizontal orientation
    #bindsym $mod+Shift+n split h
    bindsym $mod2+n split h

    # split in vertical orientation
    #bindsym $mod+Shift+v split v
    bindsym $mod2+v split v


    # enter fullscreen mode for the focused container
    bindsym $mod+f fullscreen toggle

    # change container layout (stacked, tabbed, toggle split)
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split
    bindsym $mod+v layout splitv
    bindsym $mod+n layout splith

    # toggle tiling / floating
    bindsym $mod+Shift+t floating toggle

    # change focus between tiling / floating windows
    #bindsym $mod+space focus mode_toggle

### workspaces
    set $ws1 "1"
    set $ws2 "2"
    set $ws3 "3"
    set $ws4 "4"
    set $ws5 "5"
    set $ws6 "6"
    set $ws7 "7"
    set $ws8 "8"
    set $ws9 "9"
    set $ws10 "10"

    # switch to workspace
    bindsym $mod+1 workspace $ws1
    bindsym $mod+2 workspace $ws2
    bindsym $mod+3 workspace $ws3
    bindsym $mod+4 workspace $ws4
    bindsym $mod+5 workspace $ws5
    bindsym $mod+6 workspace $ws6
    bindsym $mod+7 workspace $ws7
    bindsym $mod+8 workspace $ws8
    bindsym $mod+9 workspace $ws9
    bindsym $mod+0 workspace $ws10

    # switch workspaces relative
    bindsym $mod+$ctl+l workspace next
    bindsym $mod+$ctl+h workspace prev
    bindsym $mod+Space workspace back_and_forth

    # move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace $ws1
    bindsym $mod+Shift+2 move container to workspace $ws2
    bindsym $mod+Shift+3 move container to workspace $ws3
    bindsym $mod+Shift+4 move container to workspace $ws4
    bindsym $mod+Shift+5 move container to workspace $ws5
    bindsym $mod+Shift+6 move container to workspace $ws6
    bindsym $mod+Shift+7 move container to workspace $ws7
    bindsym $mod+Shift+8 move container to workspace $ws8
    bindsym $mod+Shift+9 move container to workspace $ws9
    bindsym $mod+Shift+0 move container to workspace $ws10


### modes

    # resize window
    mode "resize" {
            bindsym h resize shrink width 10 px or 10 ppt
            bindsym k resize grow height 10 px or 10 ppt
            bindsym j resize shrink height 10 px or 10 ppt
            bindsym l resize grow width 10 px or 10 ppt

            # same bindings, but for the arrow keys
            bindsym Left resize shrink width 10 px or 10 ppt
            bindsym Down resize grow height 10 px or 10 ppt
            bindsym Up resize shrink height 10 px or 10 ppt
            bindsym Right resize grow width 10 px or 10 ppt

            # back to normal: Enter or Escape or $mod+d
            bindsym Return mode "default"
            bindsym Escape mode "default"
            bindsym $mod+r mode "default"
    }

    # systemctl
    mode "system" {
            bindsym l exec --no-startup-id $lock, mode "default"
            bindsym e exec --no-startup-id "i3-msg exit", mode "default"
            bindsym s exec --no-startup-id "xsecurelock && systemctl suspend", mode "default"
            bindsym h exec --no-startup-id "xsecurelock && systemctl hibernate", mode "default"
            bindsym r exec --no-startup-id "xsecurelock && systemctl reboot", mode "default"
            bindsym Shift+s exec --no-startup-id "xsecurelock && systemctl poweroff", mode "default"

            # back to normal: Enter or Escape
            bindsym Return mode "default"
            bindsym Escape mode "default"
            bindsym $mod+y mode "default"
    }


    bindsym $mod+y mode "system"
    bindsym $mod+r mode "resize"

### enviroment
    # keyboard options
    input "type:keyboard" {
        xkb_layout us,de
        xkb_options grp:caps_switch
    }

    input type:touchpad {
        natural_scroll enabled
    }

    # set enviroment
    exec_always --no-startup-id "$HOME/.config/waybar/launch.sh"
    exec_always nm-applet
    exec_always --no-startup-id swayidle -w timeout 400 '/home/user/.local/bin/swayexit lock' timeout 1200 'sudo systemctl suspend' before-sleep '/home/user/.local/bin/swayexit lock; sleep 1' after-resume 'swaymsg "output * dpms on"' &
    exec --no-startup-id gnome-keyring-daemon --start --components=pkcs11,secrets,ssh,control


### design
    font pango:Cantarell 10
    default_orientation vertical
    workspace_layout stacking
    title_align left
    default_border normal 5
    hide_edge_borders none

    # set colors
    client.focused          #4c7899 #285577 #ffffff #2e9ef4   #285577
    client.focused_inactive #333333 #5f676a #ffffff #484e50   #5f676a
    client.unfocused        #333333 #222222 #888888 #292d2e   #222222
    client.urgent           #2f343a #900000 #ffffff #900000   #900000
    client.placeholder      #000000 #0c0c0c #ffffff #000000   #0c0c0c

    # configure borders
    #smart_gaps on
    #gaps inner all set 5
    #gaps outer all set 5

    focus_wrapping force
    focus_follows_mouse yes
    xwayland force


# scratchpad

### sound and brightness
    # mappings brightness & sound
    bindsym $mod+F5 exec brightnessctl s 5%- 'amdgpu_bl0'
    bindsym $mod+F6 exec brightnessctl s +5% 'amdgpu_bl0'

    bindsym $mod+F1 exec amixer -D pulse sset Master toggle
    bindsym $mod+F2 exec amixer sset Master 5%-
    bindsym $mod+F3 exec amixer sset Master 5%+
    bindsym $mod+F4 exec amixer -D pulse sset Capture toggle

    exec_always --no-startup-id amixer -D pulse sset Capture nocap
    exec --no-startup-id amixer -D pulse sset Capture nocap

### outputs
    output "HDMI-A-5" {
        background "/usr/share/backgrounds/active/pexels-semws-2670898.jpg" fill
        mode 1920x1080@60.0Hz
        pos 3840 0
        transform 90
    }

    output "DP-4" {
        background "/usr/share/backgrounds/active/pexels-fabiano-rodrigues-794857-1662298.jpg" fill
        mode 3840x2160@59.997002Hz
        pos 0 0
    }
